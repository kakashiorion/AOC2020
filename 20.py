master=['Tile 1321:',
'.###.#.#..',
'#####.....',
'.....#..#.',
'#..##..#.#',
'...#..#..#',
'##........',
'.#.#....#.',
'#...##....',
'#.#.#..#..',
'#.#..#....',
'',
'Tile 2393:',
'###.##..##',
'#..#..#.##',
'#.#......#',
'..#.....##',
'#..#......',
'.......###',
'.#...#.#..',
'#.#....###',
'......#...',
'..##....#.',
'',
'Tile 1301:',
'.#.#..####',
'..#..#..##',
'###...#..#',
'......##.#',
'.#.....#.#',
'#........#',
'#...#...#.',
'##....#..#',
'..........',
'..#.##..#.',
'',
'Tile 2647:',
'####.#.#.#',
'....##....',
'##.####..#',
'#.#.#...##',
'..#..#....',
'#......#.#',
'..#..#....',
'....##...#',
'#.#.#....#',
'#.#..#.##.',
'',
'Tile 2707:',
'###.......',
'##.###....',
'.#........',
'##...#....',
'#....##...',
'##.....#.#',
'.#..#....#',
'....##..##',
'#.#.#.#..#',
'##.##.##.#',
'',
'Tile 2521:',
'..#.#.#...',
'..........',
'#.##......',
'#...#.....',
'..........',
'.........#',
'#........#',
'..##.#..##',
'#.#####...',
'..#..#..##',
'',
'Tile 3041:',
'#..#..#...',
'#.#....##.',
'###..#..##',
'##.##...##',
'.......#.#',
'...#....#.',
'.#.#.....#',
'.........#',
'.........#',
'###..#.#.#',
'',
'Tile 3529:',
'..####.##.',
'..........',
'#.#.......',
'#.......#.',
'#........#',
'...##..#..',
'#......#.#',
'#.........',
'.#...#....',
'.#.....###',
'',
'Tile 1361:',
'#.#####.#.',
'.##....#.#',
'#.#.#.....',
'#.....##..',
'..#.#..#..',
'#...#..#..',
'...#......',
'....####.#',
'.##.....#.',
'.####.###.',
'',
'Tile 1303:',
'.####.#...',
'..........',
'.....#...#',
'#..##.#...',
'......#...',
'.........#',
'#..##.##..',
'#...####.#',
'#....#....',
'...#..#.##',
'',
'Tile 2903:',
'.#####..##',
'....#.#..#',
'#.........',
'..#.#....#',
'#.###.#...',
'#...#...##',
'#.#..#....',
'#........#',
'#....##..#',
'####.#.#.#',
'',
'Tile 3299:',
'...#.#..#.',
'.......#..',
'...#...#.#',
'......#...',
'#......#..',
'#......#.#',
'..#......#',
'#....#....',
'.......###',
'..####.##.',
'',
'Tile 2659:',
'##....####',
'#.#..#....',
'#.#.....#.',
'#.....#..#',
'.....##...',
'###..#....',
'#.#...#...',
'##.###....',
'#....#..#.',
'..##..###.',
'',
'Tile 3037:',
'..#####.#.',
'..#...#.#.',
'......#...',
'.##......#',
'#.......##',
'....#.....',
'..#.##..##',
'..#...#...',
'....#.....',
'#####.#.##',
'',
'Tile 2161:',
'#....#...#',
'..#..#...#',
'.#........',
'.#...#..##',
'#.##.....#',
'...#...#..',
'..#......#',
'####......',
'#....##..#',
'##..#.###.',
'',
'Tile 2767:',
'..##.#..#.',
'#.......#.',
'#........#',
'..#...#.##',
'#.......##',
'.##.....#.',
'....#.##..',
'.#..##....',
'..#.......',
'..#..##..#',
'',
'Tile 1277:',
'.##....#..',
'.##..#....',
'###.......',
'#.#.#....#',
'#.....#...',
'#..#.##.##',
'##...##..#',
'#.....#...',
'....#..#.#',
'#..#####.#',
'',
'Tile 3593:',
'.##...###.',
'.#.....#..',
'##....#...',
'.......#.#',
'#.......##',
'#.#.#....#',
'.#.##.....',
'#...#..#.#',
'##.####.#.',
'.....###..',
'',
'Tile 2617:',
'##..#.####',
'.#.....#..',
'.#..##..#.',
'..#..#.#..',
'#........#',
'...#...###',
'..#####...',
'...#....##',
'.#.....##.',
'..##.##.#.',
'',
'Tile 1103:',
'....##..#.',
'.#.....##.',
'#........#',
'#.........',
'###....#..',
'.......#..',
'.........#',
'#..#.#.#..',
'#..#.#...#',
'##.##..##.',
'',
'Tile 3019:',
'###.#..#.#',
'..##...#..',
'..#......#',
'##.###....',
'#.#......#',
'......#..#',
'#....#.#.#',
'##..#...##',
'###.##...#',
'###.#..#..',
'',
'Tile 2909:',
'..#.....#.',
'#.......##',
'#....##.#.',
'#..#.###.#',
'..#...##..',
'#...#....#',
'.........#',
'.#........',
'###....###',
'...###.##.',
'',
'Tile 3733:',
'.#.####...',
'..#.....##',
'......#...',
'.#...#...#',
'....##....',
'......###.',
'..#.####.#',
'..#..#...#',
'#.##..##..',
'.#.###.##.',
'',
'Tile 3851:',
'###.......',
'#..##.....',
'......#.##',
'#..##....#',
'#...##...#',
'...###.#.#',
'.....#.###',
'#...#...##',
'.###.....#',
'...#.##..#',
'',
'Tile 3137:',
'#..##.#.#.',
'..#...#...',
'.##...#...',
'.....#..##',
'....##.#.#',
'........##',
'.#....##.#',
'#..#......',
'#..#.#.#..',
'.###..#.##',
'',
'Tile 1697:',
'.##..##.##',
'..#..#..#.',
'#....##.##',
'#.....#..#',
'..#.....##',
'#...#.#..#',
'####...#..',
'.........#',
'......#...',
'.#####..##',
'',
'Tile 3301:',
'.#.#.#.###',
'##.#......',
'#.#....#.#',
'#..#....##',
'#......#.#',
'..##...###',
'##...#.###',
'.#.####...',
'#..#......',
'.##.###.##',
'',
'Tile 2237:',
'#.###.#.##',
'..........',
'##..#.#.#.',
'.......#.#',
'...#....#.',
'#.#.##....',
'#.##....##',
'...###.#..',
'#.....#.##',
'.##......#',
'',
'Tile 2897:',
'....###.##',
'.###....#.',
'....#..###',
'........#.',
'..#...#..#',
'#...#.....',
'.#.###.#..',
'..#....#.#',
'#.#.#....#',
'.####....#',
'',
'Tile 1423:',
'#.#.#..#..',
'...#.#...#',
'#.###.....',
'###....#..',
'#.#.#...##',
'....##....',
'..#......#',
'...#......',
'#.#...###.',
'.###......',
'',
'Tile 1297:',
'#.#.#.##..',
'#..#..#..#',
'#..#.##..#',
'#.......#.',
'#..#....##',
'.###.#...#',
'##.....##.',
'.#.###.#..',
'###...#...',
'..##..###.',
'',
'Tile 3463:',
'.#.#######',
'#...##.##.',
'#.##..#..#',
'....##....',
'.#.##.####',
'.##....###',
'#.#.##..##',
'#.......#.',
'.#...#.###',
'##.#....#.',
'',
'Tile 1951:',
'...####.##',
'..##....#.',
'####.....#',
'#.#..##...',
'...#.###..',
'#...##....',
'#.#.#....#',
'...##.##..',
'......##..',
'.#..##.#..',
'',
'Tile 1429:',
'.##..#.#..',
'.#.....#..',
'...###...#',
'.#........',
'#.#......#',
'.##......#',
'#......#..',
'..........',
'........##',
'#.##..####',
'',
'Tile 1319:',
'..#.....##',
'#......##.',
'.........#',
'...#...###',
'###..#....',
'#..##..#.#',
'#.........',
'...###...#',
'.........#',
'...######.',
'',
'Tile 1373:',
'#.#..#####',
'##..#...#.',
'....#....#',
'..####...#',
'#.#.....#.',
'#.#.......',
'#.###..#.#',
'...#....#.',
'##...##..#',
'##..#..#.#',
'',
'Tile 1733:',
'##..##...#',
'...#.....#',
'.#....#...',
'#.#.......',
'#..#.#....',
'#.##.....#',
'.###...#..',
'#...##..#.',
'.......##.',
'###.##..##',
'',
'Tile 3767:',
'..#.#.##.#',
'#.........',
'......#..#',
'#.#.....##',
'#.....##.#',
'........##',
'.#.......#',
'.#..#..#.#',
'#...#...#.',
'..#..#.##.',
'',
'Tile 1249:',
'#####...##',
'..#....#..',
'.....#....',
'...##...#.',
'.#.......#',
'...#......',
'...#..#.##',
'#..#.#..#.',
'.##.....#.',
'#.##..#...',
'',
'Tile 3719:',
'....###.#.',
'.#.......#',
'..#...#.##',
'....#.##.#',
'.....#....',
'###...#..#',
'.......#.#',
'#...#....#',
'....#.....',
'##...#..#.',
'',
'Tile 3547:',
'#..#.#..##',
'.##.......',
'##....#..#',
'..#......#',
'.....#..##',
'#.###....#',
'#......#.#',
'##....#.#.',
'##....#.#.',
'.##..##.#.',
'',
'Tile 3167:',
'##..#..#.#',
'##..#....#',
'...#...#.#',
'#..#.#....',
'#...#...#.',
'..#..#....',
'..#......#',
'#...##...#',
'..##......',
'.##..##...',
'',
'Tile 1129:',
'..#.#.#...',
'..#.......',
'.#......##',
'..#.#....#',
'..#......#',
'####..#..#',
'#..##..#.#',
'#...#.....',
'#....#.#.#',
'.###.###..',
'',
'Tile 1553:',
'#.##.##...',
'#..#.....#',
'..........',
'.#...#...#',
'.#.#..#.#.',
'..####...#',
'#...#...#.',
'#.###...#.',
'#.#..#...#',
'...#.###.#',
'',
'Tile 2351:',
'..#.......',
'###....#.#',
'.#..#...#.',
'#....##...',
'#..##..#.#',
'..###..#.#',
'.#....#.##',
'..#.......',
'#..#.....#',
'.#..####..',
'',
'Tile 1069:',
'#####...#.',
'##....#...',
'...####..#',
'#..#...##.',
'#..#.....#',
'#...#####.',
'#.#..#...#',
'#.####...#',
'.........#',
'..###...#.',
'',
'Tile 2069:',
'.#....#.#.',
'........##',
'.#....#..#',
'#.....#..#',
'##....#.##',
'....#.....',
'........#.',
'.#..#..###',
'....#.##..',
'..####.#..',
'',
'Tile 2791:',
'..#..#.##.',
'#....#...#',
'#........#',
'#..#.....#',
'#.......#.',
'#..#...#.#',
'.#.......#',
'.##.......',
'#..#.....#',
'.#.#.##.#.',
'',
'Tile 2843:',
'..#..#####',
'.#..###.#.',
'#...##.#.#',
'##.##.#...',
'....#.....',
'..#.#.....',
'......#...',
'..#...#...',
'.#..#....#',
'.##.###..#',
'',
'Tile 1543:',
'...##.#..#',
'#......#.#',
'....#.#...',
'.........#',
'#...#.#..#',
'....#.....',
'.......#..',
'...#......',
'#.#....#..',
'#..#...#.#',
'',
'Tile 2657:',
'#.#.#.#..#',
'.#..##.#.#',
'#.##.#....',
'....#.....',
'#........#',
'#.##...#..',
'#........#',
'.#.......#',
'#........#',
'#.##.####.',
'',
'Tile 1483:',
'##.#.#####',
'#....#...#',
'........##',
'#..#....#.',
'##...#...#',
'..........',
'##..#.....',
'##......##',
'#...#...#.',
'.##.##..##',
'',
'Tile 2689:',
'#..#..####',
'#.#..#..##',
'#...##.#.#',
'.#......##',
'.#..#.....',
'#....#...#',
'....##....',
'...#.###.#',
'......##..',
'#..###.#..',
'',
'Tile 1013:',
'###.######',
'##...#.###',
'####.#...#',
'..#..#..##',
'##....###.',
'.##...#.#.',
'..#....#..',
'#.#.......',
'#.#...#..#',
'##.#.....#',
'',
'Tile 1171:',
'.#..######',
'#.#......#',
'.....#....',
'..#.#.....',
'#.......#.',
'#.#...#...',
'#....#.#..',
'..#....#.#',
'#.#..#.#..',
'.......#.#',
'',
'Tile 2003:',
'..###.####',
'...#....#.',
'...##.....',
'#.........',
'#..##.....',
'###......#',
'#....#...#',
'..#...#...',
'..#.......',
'#####...##',
'',
'Tile 3709:',
'.#..#.##..',
'##.......#',
'#..#..##.#',
'...#.#.#..',
'#......#..',
'....#....#',
'#....#...#',
'.#....#..#',
'#...##...#',
'#.###..#..',
'',
'Tile 1151:',
'.#...####.',
'.......#..',
'##......##',
'#.......#.',
'#.#...####',
'##.##..#.#',
'..#.......',
'##.......#',
'#.##.#....',
'#..#..##.#',
'',
'Tile 3917:',
'.####.#.#.',
'#.....#..#',
'...#.#..#.',
'...#.#....',
'....##....',
'#.#...##..',
'###...##..',
'##....#..#',
'.....#...#',
'.#.###.###',
'',
'Tile 2557:',
'.##.##.#..',
'#.....#...',
'#.......#.',
'.##..#.#.#',
'........#.',
'..#..###..',
'#.#.##.###',
'.#...###.#',
'.#....##.#',
'....###...',
'',
'Tile 2309:',
'#.#.#...##',
'...#..##..',
'...#...##.',
'..##..##.#',
'#.#......#',
'.....#....',
'#.#......#',
'.##.###.#.',
'#...#....#',
'#..#..#...',
'',
'Tile 2857:',
'..###....#',
'##.##.#...',
'#...#.....',
'##......##',
'...#.....#',
'#......#.#',
'...#..#..#',
'###..#.#..',
'#.#.#..#.#',
'..###.#...',
'',
'Tile 2129:',
'#...#.#.#.',
'........#.',
'..#..#####',
'#.#....###',
'....#..#.#',
'..#.##....',
'##.##....#',
'#.........',
'.#..#...#.',
'..#..#.#..',
'',
'Tile 3853:',
'####..#..#',
'...##.....',
'..........',
'...#.....#',
'#...#.....',
'.###.....#',
'...##.#...',
'.#...###.#',
'#.#.......',
'#.##...###',
'',
'Tile 1993:',
'.##....#..',
'#.........',
'#..#......',
'#.#......#',
'.........#',
'###...#..#',
'##.##.#.##',
'.....##.##',
'##..#.##..',
'..#.#.#..#',
'',
'Tile 2953:',
'##.#.####.',
'#.....#..#',
'##..##...#',
'....#....#',
'#..#.#....',
'....#....#',
'.#..#...##',
'...#...#..',
'#...#....#',
'#....##.##',
'',
'Tile 2753:',
'##....##..',
'#...#.###.',
'..#..#.#.#',
'##.####.##',
'....###..#',
'.#......##',
'..###..#.#',
'#.........',
'#..###.##.',
'#######...',
'',
'Tile 2333:',
'.#....#...',
'.....###.#',
'#.......##',
'...#....##',
'#....#...#',
'..........',
'..#.##.##.',
'#..#...###',
'.....#....',
'###....#.#',
'',
'Tile 1439:',
'.....#....',
'#..#..#.#.',
'#......###',
'.#..##...#',
'..###.#...',
'##.....#.#',
'.#...#.#.#',
'##.#..#..#',
'#...#.....',
'..########',
'',
'Tile 2543:',
'#####.##.#',
'#.......##',
'....#.#..#',
'...#.#...#',
'#......#..',
'......#..#',
'.#.#..#..#',
'...##.#...',
'#..#.#.#.#',
'#...#..#.#',
'',
'Tile 1097:',
'##.###.#.#',
'.#....##..',
'.#.#..##.#',
'#.#.....##',
'..#..#...#',
'...#....##',
'..#.#.###.',
'#......#..',
'.....###..',
'...#.#.#.#',
'',
'Tile 2269:',
'#.##..###.',
'##..#.....',
'#.#.#.##..',
'##.#.##.##',
'....#...##',
'#.#.#..#.#',
'...#.#..#.',
'....#....#',
'...#...#.#',
'#..#.#.#..',
'',
'Tile 2423:',
'####.###.#',
'....#..#..',
'......#...',
'....#..##.',
'#..#.#.###',
'#.##.##...',
'...##..#.#',
'....#...#.',
'.#....#...',
'.....###..',
'',
'Tile 1999:',
'.#....#...',
'......#.##',
'.....##..#',
'.......#..',
'#.....####',
'..#....#.#',
'#.......#.',
'.#....#.#.',
'...#..##.#',
'..#.####..',
'',
'Tile 3727:',
'..#..#.#..',
'...#...###',
'..#.......',
'###..#..##',
'.#.#...#.#',
'##.#....##',
'#....##.#.',
'.#......#.',
'....#.#..#',
'.#.###.#.#',
'',
'Tile 3617:',
'###.#.....',
'#.....#..#',
'#......#.#',
'#.#.......',
'#.#..#.##.',
'.#.#..#.##',
'#....#.#..',
'.##.......',
'......#..#',
'##.###.#..',
'',
'Tile 3121:',
'..#.#...#.',
'..#####.#.',
'.#........',
'#.#......#',
'...#..##.#',
'#.......##',
'##..#.#..#',
'###.......',
'##..#.####',
'#.###.##..',
'',
'Tile 2131:',
'###...###.',
'.........#',
'#.#....##.',
'#...##....',
'#..#.#...#',
'.#..#..#..',
'..#..#....',
'........#.',
'#.......##',
'.##.....#.',
'',
'Tile 2719:',
'##.....###',
'#.......#.',
'..........',
'......#...',
'.....##..#',
'###.#.#.#.',
'#........#',
'#.#....#..',
'.##......#',
'..###..##.',
'',
'Tile 2441:',
'....#.##.#',
'.#..##...#',
'#.#.#..##.',
'......##..',
'..........',
'#......#.#',
'##...#...#',
'.#..##.#..',
'..##....##',
'#.###...##',
'',
'Tile 3623:',
'.#.....#.#',
'###...##.#',
'#........#',
'#....##..#',
'...#.....#',
'#.......#.',
'###.......',
'...#....##',
'.....#...#',
'#.#...#..#',
'',
'Tile 1549:',
'.###...#.#',
'##....#...',
'..........',
'#........#',
'....#.....',
'...#...#..',
'#.......##',
'.....#..#.',
'#.#..#..##',
'#.#.#...##',
'',
'Tile 1489:',
'##....#...',
'#.......##',
'#.#.#..###',
'.##.......',
'.#..#.#...',
'..#....###',
'........#.',
'#...#.....',
'.........#',
'#....##.#.',
'',
'Tile 2221:',
'#####.....',
'......#..#',
'........##',
'....##..#.',
'..#.##..##',
'.##.......',
'#.#....#..',
'.....#.#.#',
'#...#....#',
'..##.##.#.',
'',
'Tile 1699:',
'.##..#.#..',
'#...#....#',
'......#..#',
'#.#......#',
'#.....#...',
'..........',
'.....#....',
'#..#.....#',
'.....#...#',
'...#.####.',
'',
'Tile 2927:',
'#####.#..#',
'.#..##...#',
'#.........',
'#.#..#...#',
'.........#',
'#.##.#.##.',
'..........',
'#.....#..#',
'###..#...#',
'#.##.#...#',
'',
'Tile 2377:',
'....#...##',
'....##...#',
'#.........',
'.#...##..#',
'##.##.#...',
'...#.#...#',
'..#......#',
'.......#.#',
'..#...##..',
'..##.#.#.#',
'',
'Tile 3761:',
'.##...#...',
'..#...##..',
'..........',
'.###......',
'##......#.',
'#...##...#',
'.....#.#..',
'..#......#',
'.......##.',
'#####..###',
'',
'Tile 3769:',
'#.####..##',
'....#...#.',
'....#.....',
'..##......',
'#.........',
'##.#..#..#',
'...#.....#',
'#...##..#.',
'#..#......',
'.####..##.',
'',
'Tile 1607:',
'.#...####.',
'##..#....#',
'#...#.##..',
'......#...',
'#.#.....#.',
'##.#..#...',
'#.........',
'..###..#.#',
'.##..#...#',
'#.#.#.###.',
'',
'Tile 3557:',
'###.###.##',
'#.#......#',
'.......###',
'#.#.#....#',
'##.......#',
'##..#...#.',
'..#.....#.',
'.....###..',
'#......#..',
'..###..###',
'',
'Tile 2713:',
'###.#..###',
'....###.##',
'#.#.#....#',
'##..#..#.#',
'##....#.##',
'..#.......',
'..#..#.##.',
'##...##...',
'#.##....##',
'.#.#....#.',
'',
'Tile 2579:',
'.#.##....#',
'........#.',
'##.##.....',
'....###.##',
'....#.....',
'....#..#.#',
'.......#..',
'.#..##....',
'...#...#.#',
'####.#...#',
'',
'Tile 3797:',
'####...#..',
'#...##....',
'..#..#.#..',
'..#.......',
'.##..##...',
'#...##..#.',
'#......#..',
'..#..#...#',
'####..#...',
'##.#.##.##',
'',
'Tile 3947:',
'#.###....#',
'##...#...#',
'......#..#',
'#...##.###',
'#..#.#....',
'.#...##.##',
'####...#.#',
'#....#...#',
'#..#.#...#',
'#.##.##.#.',
'',
'Tile 3413:',
'.##.#.###.',
'##...##..#',
'#.#......#',
'....##..#.',
'.....#...#',
'##....#...',
'##.....#.#',
'##........',
'.###..#..#',
'.#..###..#',
'',
'Tile 1861:',
'#.####..##',
'##........',
'.#.......#',
'...#.#....',
'.#.....#..',
'.#..#....#',
'#.......##',
'#.#....#.#',
'..........',
'#....#.#..',
'',
'Tile 1583:',
'..#.##...#',
'...###...#',
'..........',
'...##.....',
'.........#',
'#......#..',
'..#......#',
'..........',
'....#....#',
'........#.',
'',
'Tile 2797:',
'#..##..###',
'###.....#.',
'#....#....',
'...#.#..##',
'##.....#..',
'###.......',
'#.....#..#',
'.#..###..#',
'#...#.....',
'#####.##..',
'',
'Tile 2621:',
'....##..#.',
'#...#...#.',
'#.##.#..##',
'..#...#..#',
'.##.###...',
'.....##...',
'.#........',
'...#.#....',
'...#.....#',
'..#....###',
'',
'Tile 2437:',
'..###..#.#',
'#.#.#..#.#',
'.#.##.....',
'###..#.##.',
'##..##...#',
'....#.##.#',
'..#...#..#',
'.......#..',
'........#.',
'.#..#.###.',
'',
'Tile 2347:',
'.##.#.####',
'..#....#..',
'#..#...#.#',
'......#..#',
'#.#....#..',
'....#.....',
'.......#..',
'..#...##.#',
'#..#...###',
'#...####.#',
'',
'Tile 2029:',
'#.###.####',
'..#.##....',
'.#....#..#',
'#.....#...',
'#....#....',
'...#......',
'..........',
'..#..#..#.',
'.#...##.##',
'##.###....',
'',
'Tile 1693:',
'.....#..#.',
'#...#..#.#',
'#....#..##',
'#.....#..#',
'......#.##',
'#......###',
'##......##',
'..#......#',
'...#......',
'##...#.###',
'',
'Tile 2371:',
'##.###.##.',
'.#...#....',
'#.#...#.##',
'#..#.....#',
'.#...#....',
'#.#.##...#',
'........##',
'#........#',
'..#....##.',
'..##...##.',
'',
'Tile 1609:',
'#..#.####.',
'..#...#..#',
'#.........',
'#.###....#',
'.#......##',
'#...#.....',
'#.#..#....',
'....#..#.#',
'#.....#...',
'.#.#.#####',
'',
'Tile 2089:',
'...#..#.#.',
'#.......#.',
'..###..#..',
'#.##....##',
'.#......##',
'.........#',
'.##......#',
'.....#...#',
'.........#',
'###..#.#..',
'',
'Tile 2551:',
'#..###.#.#',
'.##....###',
'##.#.##.##',
'#.....#..#',
'#....#.#..',
'.#.......#',
'.#...###.#',
'........#.',
'.....#....',
'....#....#',
'',
'Tile 2297:',
'.#####.#..',
'#.........',
'....#..#..',
'.#..#.....',
'##..##..#.',
'#.#.#.....',
'#.#......#',
'#......#.#',
'##....####',
'#.#.#.###.',
'',
'Tile 1201:',
'....#...##',
'#...#...#.',
'###.....##',
'#......#..',
'...##.....',
'..#.......',
'..#...##.#',
'#........#',
'.#..##..##',
'.#...#....',
'',
'Tile 1759:',
'......##..',
'....#.#..#',
'#......#.#',
'#.#.#.....',
'#.#..##.#.',
'#..###....',
'.#..#....#',
'#..##..###',
'#.........',
'##..#.#.##',
'',
'Tile 2477:',
'###...###.',
'#..#...#.#',
'...#..#..#',
'#.#....#.#',
'..#.#...#.',
'...##.....',
'#...##.#..',
'...#......',
'.##......#',
'.###.#...#',
'',
'Tile 3779:',
'.####..###',
'###..#....',
'#...##...#',
'#......#.#',
'#...##..#.',
'....#..#.#',
'........##',
'.....#..#.',
'.#...#..#.',
'.##.###.#.',
'',
'Tile 3407:',
'#.....#.##',
'.#..#..###',
'.#..#.....',
'..#..#...#',
'....##.###',
'#.#......#',
'###......#',
'#........#',
'..........',
'###.##.##.',
'',
'Tile 2699:',
'#.#..###.#',
'##........',
'......#..#',
'..........',
'....#.#..#',
'....##...#',
'.....#.#..',
'#....#....',
'##..#.....',
'###..##..#',
'',
'Tile 1499:',
'#.#..#.##.',
'....##....',
'.###.#####',
'#....##...',
'........##',
'.#.###.##.',
'....#.#...',
'.........#',
'......#.##',
'##.##.##.#',
'',
'Tile 3449:',
'.#.#..#...',
'#.#.....#.',
'......#...',
'#....##...',
'.#........',
'.....#.#.#',
'#..#..#.#.',
'#.#.#.##..',
'..#...##..',
'#..#..##.#',
'',
'Tile 3259:',
'###.#.####',
'##..##..##',
'.....##...',
'..#....#..',
'##........',
'#.....#.##',
'#.#.#..#.#',
'.#.#.##..#',
'#.....#.#.',
'.#.####..#',
'',
'Tile 3361:',
'##.#.#..##',
'..........',
'......#..#',
'....#..#.#',
'..#..##...',
'.#......#.',
'#..#.#...#',
'...#..#...',
'..##..#.##',
'.#..###...',
'',
'Tile 2687:',
'##..#..#..',
'##...###.#',
'..#..###..',
'......##..',
'#......#..',
'#.....#.##',
'...#....#.',
'....#....#',
'.#...#..#.',
'####.#.##.',
'',
'Tile 1471:',
'..#.......',
'..#...##.#',
'##.....#.#',
'#.##....##',
'...##..#.#',
'.......#.#',
'....#..##.',
'#.#....###',
'#......#..',
'..#.##....',
'',
'Tile 1019:',
'..#.#...##',
'........#.',
'...#.....#',
'#.....#...',
'....#.#..#',
'#..#....##',
'#.......#.',
'#...#..#..',
'#.......#.',
'#..##.#...',
'',
'Tile 1867:',
'.#####..#.',
'#........#',
'.#........',
'....##...#',
'#...#....#',
'#.....#.##',
'##.##..###',
'#.##.#..##',
'..#...#.#.',
'..#...####',
'',
'Tile 2203:',
'...#####..',
'....#.....',
'#...#.####',
'#.##..#...',
'.#..#.#.#.',
'#..###.#..',
'......#.##',
'#....##...',
'#......###',
'##.####...',
'',
'Tile 2039:',
'.###..##.#',
'.#.#.##...',
'....###...',
'...#.#####',
'.##...#...',
'#..#..#..#',
'#...#...#.',
'......#..#',
'#.#..#...#',
'.#..##.#.#',
'',
'Tile 2609:',
'#...#.###.',
'#...##..#.',
'#..#..#...',
'......##.#',
'...#..#.##',
'#........#',
'#.........',
'##..#.....',
'#...#..#..',
'.#.###....',
'',
'Tile 1789:',
'#.####.#.#',
'..#...#...',
'.#..#...##',
'...#.....#',
'.#..##....',
'#....#...#',
'#....#....',
'#.#..#.#..',
'##.......#',
'###.#.#...',
'',
'Tile 1259:',
'#....##...',
'#..###..##',
'.#.##.#..#',
'...#...#..',
'##.......#',
'#.....#...',
'#......##.',
'.#...#....',
'...#.#....',
'.###.####.',
'',
'Tile 2239:',
'#.#.##.###',
'###....##.',
'#...#.##.#',
'...#.###.#',
'.........#',
'#...##...#',
'#....#...#',
'..##...#..',
'#.....#..#',
'#.##...#.#',
'',
'Tile 1213:',
'.#...#..#.',
'.#...#.#..',
'#.........',
'.#..#..#.#',
'#....##...',
'#...#..#.#',
'.##....#.#',
'#..#..#..#',
'......#...',
'##..#.####',
'',
'Tile 3491:',
'.....##..#',
'...###..#.',
'.....#...#',
'...#....#.',
'......##.#',
'.......#.#',
'..#.#.....',
'###..###..',
'#.........',
'.#..###.##',
'',
'Tile 1531:',
'..##.#.#..',
'.#...#....',
'#.....#.#.',
'#....#...#',
'#..##...#.',
'...#....#.',
'#.###.#...',
'.##.#..##.',
'###.....#.',
'.#....#.##',
'',
'Tile 2179:',
'...#..##.#',
'..#......#',
'#...#.....',
'.....#....',
'#..#..#..#',
'###...##..',
'#.#....#..',
'....#.....',
'.........#',
'..#.##..##',
'',
'Tile 3251:',
'.####.#..#',
'#..#......',
'#..##.##.#',
'#.##.#...#',
'.......#..',
'.....#...#',
'#...#...##',
'.......#.#',
'#.#.....##',
'#......#.#',
'',
'Tile 1187:',
'.#..##.#.#',
'..#.##.###',
'#....#....',
'.........#',
'#........#',
'.....#.#.#',
'...#..#.##',
'.#...#.#.#',
'.....#.#..',
'##.#.##..#',
'',
'Tile 1663:',
'..#.#.##..',
'.#.....###',
'#....#....',
'...#......',
'........##',
'......###.',
'.........#',
'.#..##.###',
'##....#...',
'###.#.#.##',
'',
'Tile 1289:',
'##.#.##.##',
'##....#..#',
'#........#',
'#...#..###',
'........##',
'#...#.....',
'.#.##..#..',
'####.....#',
'#.####....',
'#######.#.',
'',
'Tile 3527:',
'#.....#..#',
'...#..####',
'#.........',
'.#.#...###',
'..#.......',
'#.....#...',
'#.......#.',
'#....#...#',
'##..#####.',
'##...####.',
'',
'Tile 2141:',
'.#.##..##.',
'...#.#.#.#',
'......#..#',
'#.#....#..',
'.#...#..##',
'#....#..##',
'#.#..##.#.',
'.##.......',
'##....#..#',
'#.#..#....',
'',
'Tile 3209:',
'####..#.#.',
'.##.##...#',
'#.......#.',
'##...#...#',
'......#...',
'#.........',
'.##......#',
'.#.####..#',
'#..#.#...#',
'##.#...#..',
'',
'Tile 1063:',
'##.###.#..',
'.#...#....',
'##.......#',
'##..#.....',
'......##..',
'.##.##....',
'......#...',
'#.#.....#.',
'....#.....',
'###.#.#..#',
'',
'Tile 1907:',
'...#.#.#.#',
'##.#..#.#.',
'..#..#...#',
'...#..##..',
'.#.###.###',
'#.##...#.#',
'#.#..####.',
'....#..#..',
'....#.##..',
'...##..##.',
'',
'Tile 3347:',
'#.#..#...#',
'##......##',
'#.#.#.##.#',
'.#.#.#...#',
'#.........',
'#..#......',
'.........#',
'#...#...##',
'#.........',
'.#.###.###',
'',
'Tile 2099:',
'###.#.#...',
'#..#......',
'#.....#..#',
'#..#.###.#',
'#...##...#',
'..##......',
'#...#...##',
'#..###....',
'.#..#....#',
'...#.##...',
'']

class Tile():
    matching=0
    def __init__(self, id, top, bottom, left, right):
        self.id=id
        self.top=top
        self.bottom=bottom
        self.left=left
        self.right=right

d={}
tileId=0
row=0
topRow=''
bottomRow=''
leftRow=''
rightRow=''
for x in master:
    if x[:4]=='Tile':
        tileId=int(x[5:len(x)-1])
        row=0
    elif x=='':
        # t=Tile(tileId,topRow,bottomRow[::-1],leftRow[::-1],rightRow)
        # t=[topRow,rightRow,bottomRow[::-1],leftRow[::-1],topRow[::-1],leftRow,bottomRow,rightRow[::-1]]
        t=[topRow,rightRow,bottomRow[::-1],leftRow[::-1]]
        d[tileId]=t
        tileId=0
    else:
        row+=1
        if row==1:
            topRow=x
            leftRow=x[:1]
            rightRow=x[9:]
        elif row>1 and row <10:
            leftRow+=x[:1]
            rightRow+=x[9:]
        elif row==10:
            bottomRow=x
            leftRow+=x[:1]
            rightRow+=x[9:]

matching={}
for item in d:
    matching[item]=0

for item in d:
    for x in d[item]:
        for y in d:
            if y!=item and (x in d[y] or x[::-1] in d[y]):
                matching[item]+=1

p=1
for item in matching:
    if matching[item]==2:
        p*=item
        print(item,matching[item])
print(p)
#part1:20913499394191
# corners=[2161,2753,2927,1201]


#PART 2
def flipVer(l):
    i=[l[2],l[1][::-1],l[0],l[3][::-1]]
    return i
def flipHor(l):
    i=[l[0][::-1],l[3],l[2][::-1],l[1]]
    return i
def clock(l):
    i=[l[3],l[0],l[1],l[2]]
    return i
def antiClock(l):
    i=[l[1],l[2],l[3],l[0]]
    return i


f={}
for item in d:
    g={'left':0,'right':0,'top':0,'bottom':0}
    f[item]=g.copy()

considered={2161}
current=[2161]

while len(considered)<len(d):
    nxt=[]
    for c in current:
        # for r in range(len(p)):
        #     if c in p[r]:
        #         i=p[r].index(c)
        #         j=r
        #         break
        for t in d:
            # if t not in considered and t not in current:
            for x in range(len(d[t])):
                for y in range(len(d[c])):
                    if t not in current and t not in considered and t not in nxt:
                        if d[c][y]==d[t][x]:
                            if y==0:
                                if x==0:
                                    l=flipVer(d[t])
                                elif x==1:
                                    l=antiClock(d[t])
                                    l=flipVer(l)
                                elif x==2:
                                    l=flipHor(d[t])
                                elif x==3:
                                    l=clock(d[t])
                                    l=flipVer(l)
                                f[c]['top']=t
                                f[t]['bottom']=c
                                # p[j-1][i]=t
                            elif y==1:
                                if x==0:
                                    l=clock(d[t])
                                    l=flipHor(l)
                                elif x==1:
                                    l=flipHor(d[t])
                                elif x==2:
                                    l=antiClock(d[t])
                                    l=flipHor(l)
                                elif x==3:
                                    l=flipVer(d[t])
                                f[c]['right']=t
                                f[t]['left']=c
                                # p[j][i+1]=t
                            elif y==2:
                                if x==0:
                                    l=flipHor(d[t])
                                elif x==1:
                                    l=clock(d[t])
                                    l=flipVer(l)
                                elif x==2:
                                    l=flipVer(d[t])
                                elif x==3:
                                    l=antiClock(d[t])
                                    l=flipVer(l)
                                f[c]['bottom']=t
                                f[t]['top']=c
                                # p[j+1][i]=t
                            elif y==3:
                                if x==0:
                                    l=antiClock(d[t])
                                    l=flipHor(l)
                                elif x==1:
                                    l=flipVer(d[t])
                                elif x==2:
                                    l=clock(d[t])
                                    l=flipHor(l)
                                elif x==3:
                                    l=flipHor(d[t])
                                f[c]['left']=t
                                f[t]['right']=c
                                # p[j][i-1]=t
                            d.update({t:l})
                            # d.pop(t)
                            # print(c,t,y,x)
                            nxt.append(t)
                        elif d[c][y]==d[t][x][::-1]:
                            if y==0:
                                if x==0:
                                    l=flipVer(d[t])
                                    l=flipHor(l)
                                elif x==1:
                                    l=clock(d[t])
                                elif x==2:
                                    l=d[t]
                                elif x==3:
                                    l=antiClock(d[t])
                                f[c]['top']=t
                                f[t]['bottom']=c
                                # p[j-1][i]=t
                            elif y==1:
                                if x==0:
                                    l=antiClock(d[t])
                                elif x==1:
                                    l=flipVer(d[t])
                                    l=flipHor(l)
                                elif x==2:
                                    l=clock(d[t])
                                elif x==3:
                                    l=d[t]
                                f[c]['right']=t
                                f[t]['left']=c
                                # p[j][i+1]=t
                            elif y==2:
                                if x==0:
                                    l=d[t]
                                elif x==1:
                                    l=antiClock(d[t])
                                elif x==2:
                                    l=flipVer(d[t])
                                    l=flipHor(l)
                                elif x==3:
                                    l=clock(d[t])
                                f[c]['bottom']=t
                                f[t]['top']=c
                                # p[j+1][i]=t
                            elif y==3:
                                if x==0:
                                    l=clock(d[t])
                                elif x==1:
                                    l=d[t]
                                elif x==2:
                                    l=antiClock(d[t])
                                elif x==3:
                                    l=flipVer(d[t])
                                    l=flipHor(l)
                                f[c]['left']=t
                                f[t]['right']=c
                                # p[j][i-1]=t
                            # d[t]=l
                            d.update({t:l})
                            # d.pop(t)
                            # print(c,t,y,x,-1)
                            nxt.append(t)
        # print(c)
        considered.add(c)
    print(len(considered))
    current=nxt

for item in f:
    print(item,f[item])


p={}
ace=[0,0,0,0,0,0,0,0,0,0,0,0]
for x in range(12):
    p[x]=ace.copy()
p[0][11]=2161
current=[2161]
nxt=[]
j=1
while j <len(d):
    nxt=[]
    for c in current:
        l=f[c]['left']
        r=f[c]['right']
        t=f[c]['top']
        b=f[c]['bottom']
        if l!=0:
            nxt.append(l)
            j+=1
            for row in range(len(p)):
                if c in p[row]:
                    i=p[row].index(c)
                    p[row][i-1]=l
        if r!=0:
            nxt.append(r)
            j+=1
            for row in range(len(p)):
                if c in p[row]:
                    i=p[row].index(c)
                    p[row][i+1]=r
        if t!=0:
            nxt.append(t)
            j+=1
            for row in range(len(p)):
                if c in p[row]:
                    i=p[row].index(c)
                    p[row-1][1]=t
        if b!=0:
            nxt.append(b)
            j+=1
            for row in range(len(p)):
                if c in p[row]:
                    i=p[row].index(c)
                    p[row+1][i]=b
    current=nxt


for row in p:
    print(p[row]) 




